environment: development
obm:
  baseUrl: "https://obm.example.com"
  eventEndpoint: "/opr-web/rest/9.10/event_list"
  auth:
    method: "basic"
    username: "obm_user"
    password: "P@ssw0rd!"
  tls:
    verify: true
    minVersion: "TLSv1.2"
    allowSelfSigned: false
  rateLimitMs: 500
  connectionTimeoutMs: 30000
  readTimeoutMs: 60000
  keepAlive: true
  maxSockets: 10
scom:
  xmlDirectory: "../scom-events"
  filePattern: "*.xml"
  pollingIntervalMs: 30000
  encoding: "utf8"
  concurrentParsers: 2
  maxFileSizeMb: 100
processing:
  batchSize: 50
  batchTimeoutMs: 10000
  maxConcurrentBatches: 4
  queueCapacity: 1000
  rateLimitMs: 500
  maxEventsPerFile: 10000
retry:
  maxAttempts: 5
  initialDelayMs: 1000
  maxDelayMs: 16000
  backoffMultiplier: 2
  jitterFactor: 0.2
  retryableStatusCodes: [429, 500, 502, 503, 504]
  retryableErrors: ["ECONNREFUSED", "ETIMEDOUT", "ENOTFOUND", "EAI_AGAIN"]
  budgetPerMinute: 500
circuitBreaker:
  failureThreshold: 10
  successThreshold: 3
  timeoutMs: 60000
  volumeThreshold: 20
  errorThresholdPercentage: 50
  halfOpenMaxCalls: 5
dlq:
  enabled: true
  directory: "./data/dlq"
  fileName: "dlq.jsonl"
  maxFileSizeMb: 100
  maxEvents: 10000
  rotationStrategy: "size"
  retentionDays: 90
  alertThreshold: 100
logging:
  level: "info"
  prettyPrint: true
  directory: "./logs"
  maxSizeMb: 100
  maxFiles: 7
  includeRequestId: true
  redact: ["password", "token", "apiKey"]
metrics:
  enabled: true
  port: 9090
  path: "/metrics"
  defaultLabels:
    service: "scom-obm-adapter"
dashboard:
  enabled: true
  port: 3000
  host: "0.0.0.0"
  corsOrigins: ["http://localhost:5173"]
  sessionTimeoutMinutes: 30
audit:
  directory: "./logs/audit"
  retentionDays: 90
  maxFileSizeMb: 100
  exportDirectory: "./logs/audit/exports"
security:
  credentialStore: "file"
  credentialStoreNamespace: "default"
  redactFields: ["password", "apiKey", "token"]
monitoring:
  alertEvaluationIntervalMs: 60000
  alertRules:
    - name: "HighErrorRate"
      condition: "(errorRate > 5)"
      severity: "warning"
      message: "Error rate exceeded 5%"
    - name: "CircuitOpen"
      condition: "circuitBreakerState === 2"
      severity: "critical"
      message: "Circuit breaker is open"
  notifications:
    email:
      enabled: false
      to: []
    webhook:
      enabled: false
    slack:
      enabled: false

