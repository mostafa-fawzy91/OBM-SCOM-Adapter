# SCOM → OBM Integration Adapter – User Guide

## 1. Overview
The SCOM → OBM Integration Adapter provides a real-time operations dashboard for monitoring and reconciling events flowing from Microsoft System Center Operations Manager (SCOM) into OpenText Operations Bridge Manager (OBM). This guide is intended for day-to-day operators who rely on the web UI to observe system health, inspect event traffic, remediate failures, and adjust non-sensitive runtime behavior.

## 2. Key Concepts
- **Adapter Control Plane** – Summary card highlighting overall health, circuit breaker status, and last refresh.
- **Metrics Cards** – Rolling counts for processed events, success rate, retry volume, and DLQ occupancy.
- **Trend Chart** – Visualizes success rate across the last 40 telemetry samples.
- **Recent Events** – Live feed of the most recent 100 events (success or failure).
- **Dead Letter Queue (DLQ)** – Events that exhausted retries or failed validation. Operators can replay individual records.
- **Alerts Panel** – Real-time notifications triggered by monitoring rules (e.g., high error rate, circuit breaker open).
- **Config Drawer** – Web-based configuration hub for adjusting OBM/SCOM parameters and rotating credentials.

## 3. Prerequisites
- Backend adapter running and reachable (default `http://localhost:3000`)
- Dashboard served via Vite (`npm run dev`) or deployed static host
- Operator role granted in your organization’s access model
- OBM configured to accept REST submissions from the adapter host

## 4. Accessing the Dashboard
1. Launch the adapter backend (`npm run dev` from `backend/`) and frontend (`npm run dev` from project root).
2. Navigate to the printed Vite URL (default `http://localhost:5173`).
3. Confirm the badge shows **Live telemetry** and the control plane card reports **Healthy**. If it reads **Offline**, check backend availability or API base URL configuration.

## 5. Navigating the UI

### 5.1 Adapter Control Plane
- **Service Health**: Up/down indicator tied to `/health`.
- **Circuit Breaker**: Displays `Closed`, `Half-open`, or `Open`.
- **Last Updated**: Timestamp of the most recent successful auto-refresh (15 second cadence).
- **Manual Refresh**: Click **Refresh now** to hydrate immediately.

### 5.2 Metrics Cards
Cards display aggregated figures with contextual footnotes. Hovering or focusing reveals tooltips.

### 5.3 Trend Chart
Visualizes success-rate history. No data? Confirm events are flowing or extend the timeframe by keeping the page open (auto-refresh appends samples).

### 5.4 Recent Events
- Filter by eye using severity badges (`Critical`, `Major`, `Warning`, etc.).
- Failed records include an error snippet from OBM or validation logic.
- Click **View Events** (from Results view) to return to this table after remediating DLQ entries.

### 5.5 Dead Letter Queue
- Paginated list of records pending remediation.
- For each row, click **Replay** to attempt reprocessing. Success removes the entry; repeated failure leaves the event in the queue and updates failure reason.
- Use the configuration drawer to tune DLQ thresholds or retention policy (admin-only).

### 5.6 Alerts Panel
- Alerts appear chronologically with severity color.
- Click entries to reveal JSON context (e.g., current error rate).
- Alerts are generated by monitoring rules defined in `config.monitoring.alertRules`.

## 6. Config Drawer (Operator Controls)
1. Click **Configure adapter**.
2. Review **OBM connectivity** (base URL, endpoint, auth method, TLS preferences) and **SCOM ingestion** settings.
3. Adjust parameters (e.g., change polling interval) and click **Save changes**.
4. If the banner reports *Restart required*, coordinate with engineering to restart the adapter. Hot-reloadable fields (batch size, rate limit, monitoring rules) apply instantly.

### 6.1 Secret Rotation
- Basic Auth: enter a new password under **New password** and select **Rotate secret**.
- API Key Auth: input the new API key.
- The drawer leverages the credential store (`POST /api/config/secrets`). Secrets are never displayed in the UI.
- On success, a confirmation toast appears; the dashboard clears the input field automatically.

## 7. Troubleshooting

| Symptom | Likely Cause | Resolution |
|---------|--------------|------------|
| Dashboard shows “Offline” | Backend unreachable or `VITE_API_BASE_URL` misconfigured | Verify backend (`curl http://localhost:3000/ready`), ensure Vite env var matches |
| Success rate stuck at 0% | No events flowing | Confirm SCOM export path (drawer), check backend logs |
| DLQ grows steadily | Downstream OBM issue or malformed SCOM XML | Inspect DLQ details, view logs (`backend/logs/adapter.log`), replay after fixing cause |
| Alert “Circuit breaker open” | Consecutive failures exceeded thresholds | Examine OBM availability, adjust circuit breaker settings if needed |
| Credential rotation fails | Credential store encryption key missing | Ensure `ADAPTER_ENCRYPTION_KEY` or configured key is available to the backend |

## 8. Support & Escalation
- **First Line**: Operations team monitoring the dashboard.
- **Second Line**: Platform engineering responsible for adapter deployment.
- **Logs**: `backend/logs/adapter.log`, `backend/logs/audit/`.
- **Metrics**: Prometheus endpoint (`http://localhost:3000/metrics`) for integration into Grafana or OBM analytics.

## 9. Best Practices
- Keep the dashboard open in a dedicated tab to take advantage of live socket updates.
- Rotate OBM credentials via the UI; avoid editing secrets manually in `data/secrets`.
- After configuration changes that need restarts, communicate the exact time to stakeholders to avoid event loss.
- Use DLQ replay sparingly and always document the root cause of failures.
- Export metrics and alerts to your central observability stack for historical trend analysis.

---
For administrator, configuration, and architectural references, consult the corresponding Admin, Configuration, HLD, and LLD guides in the `docs/` directory.

